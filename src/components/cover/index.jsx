'use client'
import style from "./cover.module.scss";
import useMatchMedia from "@/hooks/useMatchMedia";
import { useAnimate, stagger } from "framer-motion";
import { useEffect, useState } from "react";


export const sleep = (seconds) =>
  new Promise((r) => setTimeout(r, seconds * 1000));

const Cover = ({ introPlayed, setIntroPlayed }) => {
  const [scope, animate] = useAnimate();
  const isTablet = useMatchMedia("(min-width: 740px)");
  const [again, setAgain] = useState(false)

 useEffect(() => {
  const timeline = async () => {
    await animate(
      ".stamp",
      { opacity: [0, 1] },
      { delay: stagger(0.1, {startDelay: 0.2}), duration: 0, repeat: 10 }
    )
    await sleep(0.5);

    await animate(
      ".stamp",
      { opacity: [1, 0] },
      { delay: stagger(0.1, {startDelay: 0.2}), duration: 0 }
    )

    setAgain((prev) => !prev)
  }

  timeline()
 },[again])

  return (
    <div className={style.container} ref={scope}>
      {isTablet ? (
        <svg
          viewBox="0 0 1920 1080"
          fill="none"
          width="100%"
          height="100%"
          preserveAspectRatio="xMidYMid slice"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path className="stamp" d="M910.997 231.848C919.347 219.229 929.528 208.548 940.956 199.925C901.803 164.571 893.303 104.962 923.3 59.6298C935.825 40.7025 953.264 26.9792 972.812 19.0308C947.828 -16.4262 945.65 -65.0001 971.03 -103.354C1004.09 -153.317 1071.39 -167.018 1121.36 -133.957L1380.59 37.5816C1430.55 70.6427 1444.25 137.946 1411.19 187.909C1385.81 226.263 1340.25 243.248 1297.85 234.114C1298.18 255.214 1292.36 276.631 1279.84 295.558C1250.01 340.64 1192.29 356.199 1144.6 334.52C1141.13 348.458 1135.27 362.052 1126.9 374.712C1087.44 434.331 1007.13 450.68 947.514 411.229C887.895 371.778 871.546 291.466 910.997 231.848Z" fill="#4E8EF7"/>
<path className="stamp" d="M30.6998 -173.766C-5.5467 -159.884 -23.676 -119.246 -9.79324 -82.9994L4.61752 -45.3744L-32.1774 -61.7894C-67.6242 -77.6029 -109.179 -61.687 -124.992 -26.2403C-140.806 9.20646 -124.89 50.7611 -89.4431 66.5746L-52.6483 82.9895L-90.2729 97.4002C-126.519 111.283 -144.649 151.921 -130.766 188.167C-116.883 224.414 -76.2453 242.543 -39.9989 228.66L-2.37437 214.25L-18.7888 251.043C-34.6023 286.49 -18.6864 328.045 16.7603 343.858C52.2071 359.672 93.7617 343.756 109.575 308.309L125.99 271.515L140.4 309.14C154.283 345.386 194.921 363.516 231.167 349.633C267.414 335.75 285.543 295.112 271.66 258.866L257.25 221.241L294.044 237.656C329.491 253.47 371.046 237.554 386.859 202.107C402.673 166.66 386.757 125.106 351.31 109.292L314.515 92.8773L352.14 78.4665C388.387 64.5837 406.516 23.9459 392.633 -12.3005C378.751 -48.547 338.113 -66.6763 301.866 -52.7935L264.241 -38.3827L280.657 -75.1784C296.47 -110.625 280.554 -152.18 245.107 -167.993C209.661 -183.807 168.106 -167.891 152.293 -132.444L135.877 -95.6487L121.467 -133.273C107.584 -169.52 66.9462 -187.649 30.6998 -173.766Z" fill="#F3ACB0"/>
<path className="stamp" d="M1063.24 138.122C1004.57 171.991 984.475 247.001 1018.34 305.663L1043.56 349.341L1006.83 370.546C953.652 401.25 935.431 469.25 966.134 522.429C996.838 575.609 1064.84 593.829 1118.02 563.126L1154.75 541.921L1171.94 571.701C1205.81 630.363 1280.82 650.462 1339.48 616.594C1398.14 582.725 1418.24 507.714 1384.37 449.053L1367.18 419.272L1403.91 398.067C1457.09 367.363 1475.31 299.363 1444.61 246.184C1413.9 193.004 1345.9 174.784 1292.72 205.487L1255.99 226.692L1230.78 183.015C1196.91 124.353 1121.9 104.254 1063.24 138.122Z" fill="#E26349"/>
<path className="stamp" d="M1505.6 -176.716C1463.41 -163.242 1440.14 -118.118 1453.61 -75.9295L1467.6 -32.1367L1426.74 -53.2133C1387.38 -73.5177 1339.01 -58.0703 1318.71 -18.7107C1298.4 20.649 1313.85 69.0162 1353.21 89.3206L1394.07 110.397L1350.28 124.384C1308.09 137.858 1284.81 182.982 1298.28 225.171C1311.76 267.36 1356.88 290.637 1399.07 277.163L1442.86 263.177L1421.79 304.032C1401.48 343.392 1416.93 391.759 1456.29 412.063C1495.65 432.368 1544.02 416.92 1564.32 377.561L1585.4 336.706L1599.38 380.499C1612.86 422.688 1657.98 445.966 1700.17 432.492C1742.36 419.017 1765.64 373.894 1752.16 331.705L1738.18 287.911L1779.03 308.988C1818.39 329.292 1866.76 313.845 1887.06 274.485C1907.37 235.125 1891.92 186.758 1852.56 166.454L1811.7 145.378L1855.5 131.391C1897.69 117.917 1920.96 72.7933 1907.49 30.6045C1894.02 -11.5844 1848.89 -34.8623 1806.7 -21.3882L1762.91 -7.40161L1783.99 -48.2592C1804.29 -87.6188 1788.84 -135.986 1749.48 -156.291C1710.13 -176.595 1661.76 -161.148 1641.45 -121.788L1620.38 -80.9305L1606.39 -124.724C1592.92 -166.912 1547.79 -190.19 1505.6 -176.716Z" fill="#F3ACB0"/>
<path className="stamp" d="M1795.1 -32.1239C1728.62 -12.7831 1690.41 56.7844 1709.76 123.26L1724.16 172.754L1682.53 184.864C1622.27 202.397 1587.63 265.463 1605.17 325.726C1622.7 385.988 1685.77 420.627 1746.03 403.094L1787.65 390.984L1797.47 424.732C1816.81 491.207 1886.38 529.417 1952.85 510.076C2019.33 490.735 2057.54 421.168 2038.2 354.693L2028.38 320.945L2070 308.835C2130.26 291.302 2164.9 228.236 2147.37 167.973C2129.83 107.711 2066.77 73.072 2006.51 90.6053L1964.88 102.715L1950.48 53.2204C1931.14 -13.2548 1861.57 -51.4648 1795.1 -32.1239Z" fill="#E26349"/>
<path className="stamp" d="M1517.35 759.422C1602.76 742.295 1674.93 677.55 1697.16 587.367C1727.83 462.942 1651.83 337.211 1527.41 306.538C1402.98 275.865 1277.25 351.867 1246.58 476.292C1224.35 566.475 1258.15 657.344 1325.82 712.208L1259.07 886.351L1495.51 944.638L1517.35 759.422Z" fill="#95D7FB"/>
<path className="stamp" d="M519.044 808.706C596.938 805.676 669.876 758.697 702.296 682.166C747.025 576.577 697.689 454.72 592.1 409.99C486.511 365.26 364.654 414.597 319.924 520.186C287.504 596.716 304.5 681.793 356.513 739.855L272.86 884.26L473.511 969.259L519.044 808.706Z" fill="#95D7FB"/>
<path className="stamp" d="M706 -40L736.233 145.115L822.19 -21.5973L793.74 163.801L927.007 31.8096L842.658 199.342L1010.19 114.993L878.199 248.26L1063.6 219.81L896.885 305.767L1082 336L896.885 366.233L1063.6 452.19L878.199 423.74L1010.19 557.007L842.658 472.658L927.007 640.19L793.74 508.199L822.19 693.597L736.233 526.885L706 712L675.767 526.885L589.81 693.597L618.26 508.199L484.993 640.19L569.342 472.658L401.81 557.007L533.801 423.74L348.403 452.19L515.115 366.233L330 336L515.115 305.767L348.403 219.81L533.801 248.26L401.81 114.993L569.342 199.342L484.993 31.8096L618.26 163.801L589.81 -21.5973L675.767 145.115L706 -40Z" fill="#F7D067"/>
<path className="stamp" d="M1770 163L1808.92 401.287L1919.56 186.689L1882.94 425.339L2054.49 255.436L1945.91 471.089L2161.56 362.512L1991.66 534.058L2230.31 497.436L2015.71 608.083L2254 647L2015.71 685.917L2230.31 796.564L1991.66 759.942L2161.56 931.488L1945.91 822.911L2054.49 1038.56L1882.94 868.661L1919.56 1107.31L1808.92 892.713L1770 1131L1731.08 892.713L1620.44 1107.31L1657.06 868.661L1485.51 1038.56L1594.09 822.911L1378.44 931.488L1548.34 759.942L1309.69 796.564L1524.29 685.917L1286 647L1524.29 608.083L1309.69 497.436L1548.34 534.058L1378.44 362.512L1594.09 471.089L1485.51 255.436L1657.06 425.339L1620.44 186.689L1731.08 401.287L1770 163Z" fill="#F7D067"/>
<path className="stamp" d="M356.437 325.777C353.598 343.086 347.903 359.215 339.913 373.76C398.104 392.556 435.396 451.556 425.198 513.738C420.94 539.701 409.015 562.493 392.117 580.181C435.373 605.813 460.739 656.146 452.112 708.756C440.873 777.288 376.205 823.734 307.673 812.495L-47.9106 754.181C-116.443 742.942 -162.889 678.274 -151.65 609.742C-143.022 557.132 -102.909 517.538 -53.7318 507.064C-64.096 484.906 -68.1169 459.498 -63.8592 433.536C-53.7181 371.697 -0.0766144 327.842 60.6534 328.121C57.6997 311.736 57.4434 294.577 60.2915 277.21C73.7027 195.432 150.869 140.01 232.647 153.421C314.426 166.832 369.848 243.998 356.437 325.777Z" fill="#4E8EF7"/>
<path className="stamp" d="M490.223 588.264C423.95 574.258 358.871 616.629 344.864 682.902L334.436 732.247L292.941 723.477C232.862 710.78 173.865 749.191 161.168 809.27C148.471 869.349 186.881 928.346 246.961 941.043L288.455 949.813L281.345 983.457C267.339 1049.73 309.709 1114.81 375.982 1128.82C442.255 1142.82 507.334 1100.45 521.34 1034.18L528.451 1000.53L569.945 1009.3C630.025 1022 689.022 983.59 701.719 923.51C714.416 863.431 676.005 804.434 615.926 791.737L574.432 782.967L584.86 733.623C598.866 667.35 556.496 602.271 490.223 588.264Z" fill="#E26349"/>
<path className="stamp" d="M-241.598 1036.35C-252.336 880.154 -135.025 744.556 21.0935 732.71C178.787 720.745 316.053 839.499 326.899 997.273L361.999 1507.89L-206.221 1551L-241.598 1036.35Z" fill="#67B674"/>
<path className="stamp" d="M599.557 656.224C587.652 499.314 705.2 362.462 862.11 350.557C1019.02 338.651 1155.87 456.2 1167.78 613.109L1201 1050.96L632.78 1094.07L599.557 656.224Z" fill="#67B674"/>
<path className="stamp" d="M733.238 767C694.424 767 662.959 798.465 662.959 837.279V877.57L634.469 849.08C607.024 821.634 562.525 821.634 535.08 849.08C507.634 876.526 507.634 921.024 535.08 948.47L563.569 976.959H523.279C484.465 976.959 453 1008.42 453 1047.24C453 1086.05 484.465 1117.52 523.279 1117.52H563.569L535.08 1146.01C507.635 1173.45 507.635 1217.95 535.08 1245.4C562.526 1272.84 607.024 1272.84 634.47 1245.4L662.959 1216.91V1257.2C662.959 1296.01 694.424 1327.48 733.238 1327.48C772.052 1327.48 803.517 1296.01 803.517 1257.2V1216.91L832.007 1245.4C859.452 1272.84 903.951 1272.84 931.396 1245.4C958.842 1217.95 958.842 1173.45 931.396 1146.01L902.907 1117.52H943.198C982.012 1117.52 1013.48 1086.05 1013.48 1047.24C1013.48 1008.42 982.012 976.959 943.198 976.959H902.907L931.397 948.469C958.843 921.023 958.843 876.525 931.397 849.079C903.952 821.634 859.453 821.634 832.007 849.079L803.517 877.569V837.279C803.517 798.465 772.052 767 733.238 767Z" fill="#F3ACB0"/>
<path className="stamp" d="M1352.87 645.69C1357.14 664.112 1358.08 682.529 1356.09 700.309C1421.81 695.167 1483.21 738.683 1498.56 804.861C1504.97 832.492 1502.43 860.109 1492.84 884.677C1546.49 892.48 1592.43 932.249 1605.42 988.24C1622.34 1061.18 1576.93 1134.02 1504 1150.94L1125.56 1238.73C1052.63 1255.65 979.783 1210.24 962.863 1137.3C949.875 1081.31 973.617 1025.38 1018.35 994.754C998.92 976.916 984.484 953.236 978.074 925.605C962.807 859.793 998.287 794.057 1058.95 769.413C1049.28 754.29 1041.98 737.289 1037.69 718.806C1017.5 631.773 1071.69 544.851 1158.72 524.66C1245.76 504.47 1332.68 558.657 1352.87 645.69Z" fill="#4E8EF7"/>
<path className="stamp" d="M1392.56 991.224C1380.65 834.314 1498.2 697.462 1655.11 685.557C1812.02 673.651 1948.87 791.2 1960.78 948.109L1994 1385.96L1425.78 1429.07L1392.56 991.224Z" fill="#67B674"/>
        </svg>
      ) : (
        <svg
          viewBox="0 0 1080 1920"
          fill="none"
          width="100%"
          height="100%"
          preserveAspectRatio="xMidYMid slice"
          xmlns="http://www.w3.org/2000/svg"
        >
         
          <path className="stamp" d="M30.6993 -173.766C-5.54718 -159.884 -23.6765 -119.246 -9.79372 -82.9994L4.61703 -45.3744L-32.1779 -61.7894C-67.6247 -77.6029 -109.179 -61.687 -124.993 -26.2403C-140.806 9.20646 -124.89 50.7611 -89.4436 66.5746L-52.6488 82.9895L-90.2734 97.4002C-126.52 111.283 -144.649 151.921 -130.766 188.167C-116.884 224.414 -76.2458 242.543 -39.9993 228.66L-2.37486 214.25L-18.7893 251.043C-34.6028 286.49 -18.6869 328.045 16.7599 343.858C52.2066 359.672 93.7612 343.756 109.575 308.309L125.989 271.515L140.4 309.14C154.283 345.386 194.921 363.516 231.167 349.633C267.413 335.75 285.543 295.112 271.66 258.866L257.249 221.241L294.044 237.656C329.49 253.47 371.045 237.554 386.859 202.107C402.672 166.66 386.756 125.106 351.309 109.292L314.515 92.8773L352.14 78.4665C388.386 64.5837 406.516 23.9459 392.633 -12.3005C378.75 -48.547 338.112 -66.6763 301.866 -52.7935L264.241 -38.3827L280.656 -75.1784C296.47 -110.625 280.554 -152.18 245.107 -167.993C209.66 -183.807 168.106 -167.891 152.292 -132.444L135.877 -95.6487L121.466 -133.273C107.583 -169.52 66.9457 -187.649 30.6993 -173.766Z" fill="#F3ACB0"/>
                  
        <path className="stamp" d="M519.044 808.706C596.938 805.676 669.876 758.697 702.296 682.166C747.025 576.577 697.689 454.72 592.1 409.99C486.511 365.26 364.654 414.597 319.924 520.186C287.504 596.716 304.5 681.793 356.513 739.855L272.86 884.26L473.511 969.259L519.044 808.706Z" fill="#95D7FB"/>
        <path className="stamp" d="M706 -40L736.233 145.115L822.19 -21.5973L793.74 163.801L927.007 31.8096L842.658 199.342L1010.19 114.993L878.199 248.26L1063.6 219.81L896.885 305.767L1082 336L896.885 366.233L1063.6 452.19L878.199 423.74L1010.19 557.007L842.658 472.658L927.007 640.19L793.74 508.199L822.19 693.597L736.233 526.885L706 712L675.767 526.885L589.81 693.597L618.26 508.199L484.993 640.19L569.342 472.658L401.81 557.007L533.801 423.74L348.403 452.19L515.115 366.233L330 336L515.115 305.767L348.403 219.81L533.801 248.26L401.81 114.993L569.342 199.342L484.993 31.8096L618.26 163.801L589.81 -21.5973L675.767 145.115L706 -40Z" fill="#F7D067"/>
        <path className="stamp" d="M356.437 325.777C353.598 343.086 347.903 359.215 339.912 373.76C398.103 392.556 435.395 451.556 425.198 513.738C420.94 539.701 409.015 562.493 392.116 580.181C435.373 605.813 460.739 656.146 452.111 708.756C440.872 777.288 376.205 823.734 307.672 812.495L-47.9111 754.181C-116.444 742.942 -162.889 678.274 -151.65 609.742C-143.023 557.132 -102.909 517.538 -53.7323 507.064C-64.0965 484.906 -68.1174 459.498 -63.8597 433.536C-53.7185 371.697 -0.0771027 327.842 60.653 328.121C57.6992 311.736 57.4429 294.577 60.291 277.21C73.7022 195.432 150.869 140.01 232.647 153.421C314.425 166.832 369.848 243.998 356.437 325.777Z" fill="#4E8EF7"/>
        <path className="stamp" d="M506.441 591.693C444.145 578.527 382.971 618.355 369.805 680.651L360.003 727.034L320.998 718.791C264.524 706.855 209.068 742.961 197.133 799.435C185.197 855.909 221.303 911.366 277.777 923.301L316.781 931.544L310.097 963.171C296.932 1025.47 336.76 1086.64 399.056 1099.81C461.352 1112.97 522.526 1073.14 535.691 1010.85L542.375 979.221L581.38 987.465C637.854 999.4 693.311 963.294 705.246 906.82C717.181 850.346 681.075 794.89 624.601 782.954L585.597 774.711L595.399 728.328C608.565 666.032 568.737 604.858 506.441 591.693Z" fill="#E26349"/>
        <path className="stamp" d="M-241.598 1036.35C-252.336 880.154 -135.025 744.556 21.0935 732.71C178.787 720.745 316.053 839.499 326.899 997.273L361.999 1507.89L-206.221 1551L-241.598 1036.35Z" fill="#67B674"/>
        <path className="stamp" d="M599.557 656.224C587.652 499.314 705.2 362.462 862.11 350.557C1019.02 338.651 1155.87 456.2 1167.78 613.109L1201 1050.96L632.78 1094.07L599.557 656.224Z" fill="#67B674"/>
        <path className="stamp" d="M659.238 869C620.424 869 588.959 900.465 588.959 939.279V979.57L560.469 951.08C533.024 923.634 488.525 923.634 461.08 951.08C433.634 978.526 433.634 1023.02 461.08 1050.47L489.569 1078.96H449.279C410.465 1078.96 379 1110.42 379 1149.24C379 1188.05 410.465 1219.52 449.279 1219.52H489.569L461.08 1248.01C433.635 1275.45 433.635 1319.95 461.08 1347.4C488.526 1374.84 533.024 1374.84 560.47 1347.4L588.959 1318.91V1359.2C588.959 1398.01 620.424 1429.48 659.238 1429.48C698.052 1429.48 729.517 1398.01 729.517 1359.2V1318.91L758.007 1347.4C785.452 1374.84 829.951 1374.84 857.396 1347.4C884.842 1319.95 884.842 1275.45 857.396 1248.01L828.907 1219.52H869.198C908.012 1219.52 939.477 1188.05 939.477 1149.24C939.477 1110.42 908.012 1078.96 869.197 1078.96H828.907L857.397 1050.47C884.843 1023.02 884.843 978.525 857.397 951.079C829.952 923.634 785.453 923.634 758.007 951.079L729.517 979.569V939.279C729.517 900.465 698.052 869 659.238 869Z" fill="#F3ACB0"/>
        <path className="stamp" d="M423.063 1068.69C427.336 1087.11 428.278 1105.53 426.281 1123.31C492.008 1118.17 553.399 1161.69 568.751 1227.86C575.161 1255.49 572.626 1283.11 563.037 1307.68C616.682 1315.48 662.627 1355.25 675.616 1411.24C692.536 1484.18 647.126 1557.02 574.189 1573.94L195.756 1661.73C122.82 1678.65 49.9768 1633.24 33.0567 1560.31C20.0679 1504.32 43.8103 1448.38 88.5393 1417.76C69.113 1399.92 54.6772 1376.24 48.2673 1348.61C33 1282.8 68.4806 1217.06 129.14 1192.41C119.472 1177.29 112.175 1160.29 107.887 1141.81C87.6967 1054.77 141.884 967.853 228.917 947.662C315.951 927.472 402.873 981.659 423.063 1068.69Z" fill="#4E8EF7"/>
        <path className="stamp" d="M975.347 1468.42C1060.76 1451.29 1132.93 1386.55 1155.16 1296.37C1185.83 1171.94 1109.83 1046.21 985.408 1015.54C860.983 984.865 735.251 1060.87 704.579 1185.29C682.347 1275.47 716.155 1366.34 783.822 1421.21L717.069 1595.35L953.513 1653.64L975.347 1468.42Z" fill="#95D7FB"/>
        <path className="stamp" d="M273.538 1569.01C261.633 1412.1 379.181 1275.25 536.091 1263.35C693 1251.44 829.852 1368.99 841.758 1525.9L874.98 1963.75L306.761 2006.86L273.538 1569.01Z" fill="#67B674"/>
        <path className="stamp" d="M123 1282L160.711 1512.9L267.929 1304.95L232.442 1536.21L398.671 1371.57L293.459 1580.54L502.429 1475.33L337.791 1641.56L569.046 1606.07L361.098 1713.29L592 1751L361.098 1788.71L569.046 1895.93L337.791 1860.44L502.429 2026.67L293.459 1921.46L398.671 2130.43L232.442 1965.79L267.929 2197.05L160.711 1989.1L123 2220L85.289 1989.1L-21.929 2197.05L13.5583 1965.79L-152.671 2130.43L-47.4594 1921.46L-256.429 2026.67L-91.7914 1860.44L-323.046 1895.93L-115.098 1788.71L-346 1751L-115.098 1713.29L-323.046 1606.07L-91.7914 1641.56L-256.429 1475.33L-47.4594 1580.54L-152.671 1371.57L13.5583 1536.21L-21.929 1304.95L85.289 1512.9L123 1282Z" fill="#F7D067"/>
        <path className="stamp" d="M872.79 1487.42C798.355 1509.08 755.569 1586.98 777.226 1661.41L793.351 1716.83L746.746 1730.39C679.267 1750.03 640.48 1820.64 660.113 1888.12C679.746 1955.6 750.364 1994.39 817.843 1974.76L864.448 1961.2L875.443 1998.99C897.1 2073.42 974.998 2116.21 1049.43 2094.55C1123.87 2072.89 1166.66 1994.99 1145 1920.56L1134 1882.77L1180.61 1869.21C1248.09 1849.58 1286.88 1778.96 1267.24 1711.48C1247.61 1644 1176.99 1605.21 1109.51 1624.85L1062.91 1638.41L1046.78 1582.98C1025.12 1508.55 947.226 1465.76 872.79 1487.42Z" fill="#E26349"/>
        <path className="stamp" d="M1195.14 -54.9265C1198.62 -37.7337 1199 -20.6333 1196.68 -4.20081C1257.76 -7.23674 1313.53 34.7281 1326.02 96.4905C1331.24 122.278 1328.16 147.817 1318.62 170.343C1368.15 178.991 1409.71 217.074 1420.27 269.329C1434.04 337.399 1390.02 403.74 1321.95 417.506L968.764 488.931C900.694 502.697 834.352 458.674 820.587 390.604C810.019 338.35 833.506 287.114 875.784 259.899C858.243 242.849 845.483 220.513 840.268 194.726C827.846 133.305 862.475 73.2918 919.366 52.0403C910.8 37.7645 904.482 21.8089 900.994 4.55916C884.567 -76.6673 937.098 -155.831 1018.32 -172.257C1099.55 -188.684 1178.71 -136.153 1195.14 -54.9265Z" fill="#4E8EF7"/>
        </svg>
      )}
    </div>
  );
};

export default Cover;
